<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js axios</title>
</head>
<body>
    <!-- 일반적으로 독립적으로 사용함, 이 안에 사용하면 동작 안됨 -->
    <script src = "https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        async function postApi1(){
            const response1 = await axios.get("https://jsonplaceholder.typicode.com/posts/1");

            //axios를 통한 데이터 호출시 .data해줘야함에 유의
            console.log("postApi1")
            console.log(response1.data);
        }

        async function postApi2() {
        //실습 :
        //  - 형식 : 배열 안에 객체
        //  배열 안에 객체를 아래 형식으로 출력
        //  userId : 1
        //  ID : 1
        //  Title : xx
        // contents : xx
        const response2 = await axios.get(
          "https://jsonplaceholder.typicode.com/posts/"
        );
        const arr = response2.data;
        arr.forEach((element) => {
          console.log(`userId : ${element.userId}
            console.log(Id : ${element.id})
            console.log(Title : ${element.title})
            console.log(Contents : ${element.body}`);
        });
      }
      async function postApi3() {
        // 에러날 경우 방지를 위해 try-catch 해주는 게 무조건 한 set
        // 서버에서 오류날 경우 response2.data에서 에러남! 없는 데이터를 읽어서 .data로 들어가기 때문
        // postApi2를 변경한 것
        try {
          const response2 = await axios.get(
            "https://jsonplaceholder.typicode.com/posts/"
          );
          const arr = response2.data;
          arr.forEach((element) => {
            console.log(`userId : ${element.userId}
            console.log(Id : ${element.id})
            console.log(Title : ${element.title})
            console.log(Contents : ${element.body}`);
          });
        } catch (e) {
          console.log(e);
        }
      }
      postApi2();
        postApi1();
        postApi2();
    </script>
</body>
</html>